<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Chat</title>
	<script src="/socket.io/socket.io.js"></script>
	<script type="module" src="app.js"></script>

	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="app" v-cloak>
		<!-- <form v-if="!signedIn" @submit.prevent="login()">
			<input v-model="name" type="text" />
			<button type="submit">Enter</button>
		</form> -->
		<button v-if="!loggedIn" @click="login()">Sign In With Github</button>

		<div v-if="loggedIn">
			<form @submit.prevent="sendMessage()">
				<input v-model="msg" type="text" />
				<button type="submit">Send</button>
			</form>
			<ul class="messages">
				<li class="message" v-for="(message, index) in messages" :key="index">
					<div class="sender">
						<img class="sender-profile" :src="message.user.avatar_url" alt="Profile Picture">
						<span class="sender-name">{{ message.user.name }}:</span> <br />
					</div>
					<span class="content">{{ message.content }}</span>
				</li>
			</ul>
		</div>
	</div>
</body>
</html>